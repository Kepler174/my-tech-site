---
slug: git-05-01-distributed-workflows
title: "5.1 Distributed Workflows — 多样化的协作模型"
authors: [yeezi]
tags: [git, progit, 工作流, 协作]
date: 2025-01-12T09:00:00
---

Git 与 SVN 等传统版本控制系统的最大区别，不在于命令行的语法，而在于其**分布式**的特性。
在中心化系统里，全世界只有一个“中央服务器”，协作模型是被锁死的。
而在 Git 的分布式网络中，每个节点都是平等的。这实际上给予了开发者极大的自由——你可以设计出任何适合你团队的协作流。

这种自由有时候反而是负担，因为选择太多了。今天我们就来梳理几种目前业界最成熟的分布式工作流。

<!--truncate-->

### 1. 集中式工作流 (Centralized Workflow)

这是从 SVN 迁移过来的团队最容易接受的模式。
虽然 Git 是分布式的，但我们**人为地**指定一个仓库（比如 GitHub 上的 origin）为“中央仓库”。
所有人都往这里 push，从这里 pull。

如果两个开发者同时修改了同一个文件，后 push 的那个会被拒绝，必须先 pull 下来解决冲突。
**适用场景**：小型团队，习惯了传统工作流，不需要复杂的权限管理。

### 2. 集成管理者工作流 (Integration-Manager Workflow)

这是 GitHub 上开源项目的标准工作流。

1.  **项目维护者 (Maintainer)** 拥有一个官方仓库，别人只有读权限，没有写权限。
2.  **贡献者 (Contributor)** 在GitHub上点击 **Fork**，克隆一份到自己的账号下。
3.  贡献者在自己的 Fork 里随心所欲地修改、提交。
4.  贡献者发起 **Pull Request (PR)**。
5.  维护者 Review 代码，觉得没问题了，就把它**合并 (Merge)** 进官方仓库。

**核心优势**：维护者不需要把写入权限分发给所有人（如果是那样，项目早就乱套了）。可以在代码进入主干之前，进行严格的审查。

### 3. 司令官与副官工作流 (Dictator and Lieutenants Workflow)

这是 Linux 内核开发所采用的“巨型”工作流。
当一个项目大到像 Linux 这样，Linus Torvalds 一个人是不可能看完所有 PR 的。

1.  **司令官 (Dictator)**：只有他能推送到最终的那个官方仓库。
2.  **副官 (Lieutenants)**：这是几个核心维护者。每个人负责一个模块（比如有人负责网络栈，有人负责文件系统）。
3.  **普通开发者**：把代码提交给对应的副官。

流程是：普通开发者 -> 副官 Review -> 司令官 Review 副官的汇总 -> 官方仓库。
**适用场景**：超大型、模块化极其明显的项目。

### 总结

不要被这些名字吓到。在实际工作中，我们大多数时候使用的是 **“集中式工作流”**（公司内部小团队）和 **“集成管理者工作流”**（开源项目或公司内部大项目）的混合体。
理解这些模型的本质，是为了让你在面对混乱的团队协作时，知道该引入什么样的规则来破局。
