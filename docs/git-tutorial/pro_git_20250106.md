---
slug: git-01-06-first-configuration
title: "1.6 First Configuration — 别急着敲代码，先把门牌号挂好"
authors: [yeezi]
tags: [git, progit, config]
date: 2025-01-06T15:00:00
---

很多新手装完 Git 兴奋地去 `git init`，结果提交代码时报错。
这就像你买了个手机，不开机激活是没法用的。
有些配置可以偷懒，但这一节说的这两个，是**必须**做的。

<!--truncate-->

## 头等大事：你是谁？

Git 每一次提交代码，都会把作者的名字和邮箱刻在那个快照里，**永远改不掉**（虽然能强行改历史，但很麻烦）。
所以，请立刻、马上、现在就打开终端，输入：

```bash
git config --global user.name "你的名字 (也就是 GitHub ID)"
git config --global user.email "你注册 GitHub 的邮箱"
```

**为什么这很重要？**
1.  **甩锅凭证**：代码出 Bug 了，`git blame` 一看就知道是名为 "Unknown" 的人写的，多尴尬。
2.  **绿墙统计**：你在 GitHub 上的那个绿色贡献格子墙，是靠**邮箱**来匹配的。如果你这里乱填，你辛苦写的代码都不会算在你的贡献里。这就是为什么很多人觉得自己天天提交，但 GitHub 主页还是一片白板的原因。

## 避免“Vim 恐慌”

当你 `git commit` 不加 `-m` 参数时，Git 会弹出一个编辑器让你写长篇大论的提交信息。
默认情况下，这个编辑器是 **Vim**。

对于 Linux 老鸟来说这很爽。
但对于新手，你会发现你进入了一个黑底白字的界面，打字没反应，想退出也退不出来（那个经典的笑话：如何生成随机字符串？让新手退出 Vim）。

**如果你不想被 Vim 折磨，请把默认编辑器改成 VS Code**（前提是你装了 VS Code）：

```bash
git config --global core.editor "code --wait"
```
这样 Git 会自动打开 VS Code 让你舒服地写提交信息，等你关闭文件后它再提交。

## 只有这三个地方有配置

Git 的配置其实就是文本文件。你可以通过命令行改，也可以直接去改文件（我更喜欢直接改文件）。
它按优先级从低到高找三个地方：

1.  **系统级**：管全电脑所以人的。一般不用动。
2.  **用户级 (`~/.gitconfig`)**：**这就是你的主力配置**。它只管你这个用户。`--global` 改的就是这。
3.  **仓库级 (`.git/config`)**：就在你项目文件夹里。比如你在公司项目里想用公司邮箱，就在那个项目里运行不带 `--global` 的命令，它就会覆盖掉你的个人配置。

**一个小技巧**：
想看看你到底配了啥？不用一条条查，直接：
```bash
git config --global -e
```
这会直接打开你的全局配置文件。看着改，比敲命令直观多了。
