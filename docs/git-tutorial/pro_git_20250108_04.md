---
slug: git-02-03-viewing-history
title: "2.3 Viewing History — 查看提交历史"
authors: [yeezi]
tags: [git, progit, cli]
date: 2025-01-08T12:00:00
---

在提交了若干更新，或者克隆了某个项目之后，你可能想回顾一下提交历史。完成这个任务最简单而强大的工具是 `git log` 命令。

<!--truncate-->

## 基本用法

不带任何参数运行 `git log`，Git 会按时间顺序列出所有的提交，最近的更新排在最上面。
它会显示：
*   SHA-1 校验和
*   作者的名字和电子邮件
*   提交时间
*   提交说明

## 常用选项

`git log` 提供了非常丰富的选项来定制输出格式和筛选历史记录。

### 1. 简略显示
使用 `--oneline` 选项可以将每个提交压缩到一行显示，非常适合查看大量的提交历史。

```bash
git log --oneline
```

### 2. 显示差异
使用 `-p` 选项可以显示每次提交所引入的差异（补丁）。如果不希望显示全部内容，可以配合 `-2` 限制显示的日志条数（显示最近 2 次）。

```bash
git log -p -2
```

### 3. 图形化显示
使用 `--graph` 选项可以在左侧绘制一个 ASCII 字符组成的图形，形象地展示分支和合并历史。

```bash
git log --oneline --graph --all
```

## 限制输出长度

除了上述选项外，你还可以根据时间、作者等条件进行筛选：

*   `--since=2.weeks`：列出最近两周的所有提交。
*   `--author="John"`：列出指定作者的提交。
*   `--grep="fix"`：搜索提交说明中包含 "fix" 的提交。

掌握 `git log` 的使用，能帮助你快速理清项目的演进脉络，定位历史问题。
