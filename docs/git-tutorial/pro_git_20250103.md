---
slug: progit-1-3-basics
title: "1.3 Git Basics — 别再把 Git 当作 SVN 用了！"
authors: [yeezi]
tags: [git, progit, 读书笔记]
date: 2025-01-03T18:00:00
---

这一节绝对是全书最硬核、最颠覆认知的一部分。
**如果你以前用过 SVN，请先把之前的习惯全忘掉，不然你永远理解不了 Git 为什么这么设计。**

<!-- truncate -->

## 根本区别：快照 vs 差异

这是 Git 和其他工具最大的不同。

*   **SVN 的思路**：它记录的是**变化**。比如“版本1改了第3行”，“版本2删了第5行”。这就像是记流水账。
*   **Git 的思路**：它记录的是**快照（Snapshot）**。
    也就是每当你 commit 的时候，Git 会把当前所有的文件**拍一张照片**存下来。如果文件没改，它就存个链接指向上次的照片（省空间）。

**这也解释了为啥 Git 切换分支这么快**：它不需要去计算一堆补丁来还原文件，它只需要把指针指到另一张“照片”上，然后把你的工作区“刷”成那张照片的样子就行了。

## 绝大部分操作都在本地

我刚用 Git 时候很不习惯，总觉得不做点什么联网操作心里不踏实。
但 Git 绝大多数命令（`log`, `status`, `commit`, `diff`, `branch`）都是在读写本地磁盘。

这就很爽了：
*   **断网也能干活**：坐飞机、高铁，或者公司 VPN 挂了，完全不影响你提交代码、看历史记录。
*   **速度极快**：没有网络延迟。

## Git 的三位一体

这个概念不搞懂，用 Git 就是瞎撞。Git 把你的文件分成三个区域：

1.  **已提交 (Committed)**：东西已经进数据库了，安全了。 -> **.git 目录**
2.  **已修改 (Modified)**：你改了文件，但还没告诉 Git。 -> **工作目录**
3.  **已暂存 (Staged)**：你挑出了哪些文件要提交，放在一边准备着。 -> **暂存区**

**我的最佳实践**：
我以前经常不管三七二十一直接 `git commit -a`，把所有修改一股脑提交。
后来我学乖了，我会在**暂存区**这一步多停顿一下：用 `git add` 挑出逻辑相关的修改放进去，分多次提交。这样生成的 Commit Log 清清爽爽，以后查问题方便多了。

---
总结一下：**暂存区**是 Git 给我们也是给队友的一个缓冲，好好利用它，别总是一股脑全扔进去。
